<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>{% block title %}Bienvenue!{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link 
      rel="icon" 
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>‚ö´Ô∏è</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>"
    >
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    >

    {% block stylesheets %}
      <link rel="stylesheet" href="{{ asset('styles/app.css') }}">
    {% endblock %}
  </head>

  <body>
    {# --- Navbar --- #}
    {% include 'navbar.html.twig' %}

    {# --- Overlay Cat√©gories --- #}
    {{ render(controller('App\\Controller\\CategoriesController::menuCategories')) }}


    {# --- Messages flash --- #}
    {% for message in app.flashes('notice') %}
      <div class="flash-message alert alert-danger anonymous-pro-regular">
        {{ message }}
      </div>
    {% endfor %}

    {# --- Contenu principal --- #}
    {% block body %}{% endblock %}

    {# --- Footer --- #}
     {% include 'footer.html.twig' %}
   
    {# --- Confirmation de Commande  --- #}

    {% for label, messages in app.flashes %}
    {% for message in messages %}
        <div class="toast notification-toast position-fixed top-0 end-0 m-4 fade show"
                role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="4000">
                <div class="d-flex align-items-center p-3">
                    <div class="me-3 fs-4">üß∂</div>
                    <div class="flex-grow-1">
                        <div class="fw-semibold mb-1">Commande enregistr√©e üíö</div>
                        <div>{{ message }}</div>
                    </div>
                    <button type="button" class="btn-close ms-3" data-bs-dismiss="toast" aria-label="Fermer"></button>
                </div>
            </div>
        {% endfor %}
    {% endfor %}

<script>
    // Active automatiquement la notification Bootstrap
    document.addEventListener('DOMContentLoaded', function () {
        const toastElList = [].slice.call(document.querySelectorAll('.notification-toast'));
        toastElList.map(function (toastEl) {
            const toast = new bootstrap.Toast(toastEl);
            toast.show();
        });
    });
</script>


    {# --- Scripts --- #}
    {% block javascripts %}
    <script src="{{ asset('scripts/menu.js') }}"></script>
    <script src="{{ asset('scripts/overlayCategorie.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.min.js" integrity="sha384-G/EV+4j2dNv+tEPo3++6LCgdCROaejBqfUeNjuKAiuXbjrxilcCdDz6ZAVfHWe1Y" crossorigin="anonymous"></script>
{% endblock %}
  </body>
</html>
